# =============================================================================
# Conductor Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your values
#
# For detailed GitHub App setup instructions, see: docs/GITHUB_APP_SETUP.md
# =============================================================================

# -----------------------------------------------------------------------------
# General
# -----------------------------------------------------------------------------

# Node environment (development | production | test)
NODE_ENV=development

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# SQLite database file path (relative to working directory)
DATABASE_PATH=./conductor.db

# -----------------------------------------------------------------------------
# Redis (for BullMQ job queue)
# -----------------------------------------------------------------------------

# Redis connection URL
# Default: redis://localhost:6379
# For Docker: redis://redis:6379
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# GitHub App Configuration
# -----------------------------------------------------------------------------
# These are REQUIRED in production mode.
# In development mode, the app will start without them but GitHub features
# will be disabled.
#
# To create a GitHub App:
# 1. Go to: GitHub Settings > Developer settings > GitHub Apps > New GitHub App
# 2. See docs/GITHUB_APP_SETUP.md for detailed instructions
# -----------------------------------------------------------------------------

# GitHub App ID (found on your app's settings page)
GITHUB_APP_ID=

# GitHub App slug (from URL: github.com/apps/{slug})
# This is the URL-friendly name of your app
GITHUB_APP_SLUG=

# GitHub App Private Key
# Option 1: Inline with escaped newlines
# GITHUB_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nMIIE...\n-----END RSA PRIVATE KEY-----"
#
# Option 2: Multiline (requires proper shell quoting)
# GITHUB_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----
# MIIE...
# -----END RSA PRIVATE KEY-----"
GITHUB_PRIVATE_KEY=

# GitHub Webhook Secret
# Generate a secure random string:
#   openssl rand -hex 32
# Use the same value when configuring your GitHub App's webhook settings
GITHUB_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# GitHub App - Optional OAuth (for user authentication flows)
# -----------------------------------------------------------------------------
# Only needed if you want users to authenticate via GitHub

# GITHUB_CLIENT_ID=Iv1.abc123
# GITHUB_CLIENT_SECRET=your-client-secret

# -----------------------------------------------------------------------------
# Local Development - Webhook Forwarding
# -----------------------------------------------------------------------------
# For local development, you need a way to receive webhooks from GitHub.
#
# Option 1: smee.io (recommended)
#   1. Go to https://smee.io and click "Start a new channel"
#   2. Run: npx smee -u https://smee.io/YOUR_CHANNEL -t http://localhost:3000/api/webhooks/github
#   3. Set your GitHub App's webhook URL to the smee.io URL
#
# Option 2: ngrok
#   1. Run: ngrok http 3000
#   2. Set your GitHub App's webhook URL to the ngrok URL
# -----------------------------------------------------------------------------
