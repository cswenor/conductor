# =============================================================================
# Conductor Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your values
#
# For detailed GitHub App setup instructions, see: docs/GITHUB_APP_SETUP.md
# =============================================================================

# -----------------------------------------------------------------------------
# General
# -----------------------------------------------------------------------------

# Node environment (development | production | test)
NODE_ENV=development

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# SQLite database file path (relative to working directory)
DATABASE_PATH=./conductor.db

# -----------------------------------------------------------------------------
# Redis (for BullMQ job queue)
# -----------------------------------------------------------------------------

# Redis connection URL
# Default: redis://localhost:6379
# For Docker: redis://redis:6379
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# GitHub App Configuration
# -----------------------------------------------------------------------------
# These are REQUIRED in production mode.
# In development mode, the app will start without them but GitHub features
# will be disabled.
#
# To create a GitHub App:
# 1. Go to: GitHub Settings > Developer settings > GitHub Apps > New GitHub App
# 2. See docs/GITHUB_APP_SETUP.md for detailed instructions
# -----------------------------------------------------------------------------

# GitHub App ID (found on your app's settings page)
GITHUB_APP_ID=

# GitHub App slug (from URL: github.com/apps/{slug})
# This is the URL-friendly name of your app
GITHUB_APP_SLUG=

# GitHub App Private Key
# Option 1: Inline with escaped newlines
# GITHUB_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nMIIE...\n-----END RSA PRIVATE KEY-----"
#
# Option 2: Multiline (requires proper shell quoting)
# GITHUB_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----
# MIIE...
# -----END RSA PRIVATE KEY-----"
GITHUB_PRIVATE_KEY=

# GitHub Webhook Secret
# Generate a secure random string:
#   openssl rand -hex 32
# Use the same value when configuring your GitHub App's webhook settings
GITHUB_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# GitHub OAuth (for user authentication)
# -----------------------------------------------------------------------------
# Required for user login via GitHub.
# These come from your GitHub App's OAuth credentials:
# 1. Go to your GitHub App settings
# 2. Under "Identifying and authorizing users", find Client ID
# 3. Generate a Client Secret
#
# The callback URL should be: http://localhost:3000/api/auth/github/callback

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# OAuth state signing secret (optional - defaults to GITHUB_WEBHOOK_SECRET)
# Generate with: openssl rand -hex 32
# OAUTH_STATE_SECRET=

# -----------------------------------------------------------------------------
# Local Development - Webhook Forwarding
# -----------------------------------------------------------------------------
# For local development, you need a way to receive webhooks from GitHub.
#
# Using smee.io (recommended):
#   1. Go to https://smee.io and click "Start a new channel"
#   2. Set WEBHOOK_PROXY_URL below to your smee.io URL
#   3. Run: smee -u $WEBHOOK_PROXY_URL -t http://localhost:3000/api/webhooks/github
#   4. Set your GitHub App's webhook URL to the smee.io URL
#
# Install smee client: npm install --global smee-client
# -----------------------------------------------------------------------------

# Your smee.io webhook proxy URL
WEBHOOK_PROXY_URL=https://smee.io/c3JktkA87AFwKslQ
